package domain.hardcode;

import java.io.File;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;

import org.w3c.dom.Document;
import org.w3c.dom.Element;

import constants.Constant;

public class Lesson0 {
	private static Document doc = null;

	public static void setDocument() {
		try {
			DocumentBuilderFactory dFactory = DocumentBuilderFactory.newInstance();
			DocumentBuilder dBuilder = dFactory.newDocumentBuilder();
			doc = dBuilder.newDocument();
		} catch (Exception ex) {
			ex.printStackTrace();
		}
	}

	public static void save(String filepath) {
		setDocument();
		Element shapeElement = doc.createElement("Lesson");
		doc.appendChild(shapeElement);
		//
		shapeElement.setAttribute("number", "0");

		Element shape1 = doc.createElement("entry");
		shapeElement.appendChild(shape1);
		shape1.setAttribute("name", "Han");
		shape1.setAttribute("path", Constant.RADICAL_CHARACTER_DEFINE_DIR + "Han/Han.xml");

		Element shape2 = doc.createElement("entry");
		shapeElement.appendChild(shape2);
		shape2.setAttribute("name", "Zi");
		shape2.setAttribute("path", Constant.RADICAL_CHARACTER_DEFINE_DIR + "Zi/Zi.xml");

		// write the content into xml file
		try {
			TransformerFactory transformerFactory = TransformerFactory.newInstance();
			Transformer transformer = transformerFactory.newTransformer();
			DOMSource source = new DOMSource(doc);

			// StreamResult result = new StreamResult(new File("C:\\Users\\Yin\\Desktop\\testing.xml"));
			StreamResult result = new StreamResult(new File(filepath));
			transformer.transform(source, result);
		} catch (Exception ex) {
			ex.printStackTrace();
		}
	}

	public static void main(String[] args) {
		save("C:/Users/Yin/Desktop/Heng1.xml");

	}
}
